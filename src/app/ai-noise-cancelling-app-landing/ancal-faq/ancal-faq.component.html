<div class="py-[40px] md:py-[40px] lg:py-[50px] xl:py-[60px] 2xl:py-[75px] bg-stone-100 dark:bg-stone-800">
    <div class="container mx-auto px-[12px] 2xl:px-0" >
      @if (type === 'post') {
        <app-comment-dialog
          [isOpen]="isCommentsOpen"
          [postId]="currentPostId()"
          (closeModal)="closeComments()"
        /> }
        <div class="text-center mb-[25px] md:mb-[35px] lg:mb-[40px] xl:mb-[50px] 2xl:mb-[60px] relative z-1 ml-auto mr-auto lg:max-w-[725px]" data-aosx="fade-up" data-aosx-duration="500">
            <h2 class="font-bold text-slate-900 dark:text-slate-300 text-[24px] md:text-[30px] lg:text-[34px] leading-[1.3] mb-[10px] md:mb-[20px]">
                Comments
            </h2>
            <p class="text-[13px] md:text-[14px] lg:text-[15px] text-stone-500 dark:yellow-400 leading-[1.8] ml-auto mr-auto md:max-w-[655px]">
                The app uses AI algorithms to analyze the audio input and generate anti-noise signals to cancel out unwanted background noise.
            </p>
        </div>
        <div class="accordion ml-auto mr-auto lg:max-w-[800px] xl:max-w-[875px] flex flex-col">
          @if (comments && comments.length > 0) {
            @for (comment of comments; track comment.id; let idx = $index) {
              <div class="mb-[10px] last:mb-0" data-aosx="fade-up" data-aosx-duration="500" [attr.data-aosx-delay]="(100 * idx) + 100">
                <div class="accordion-header relative rounded-[4px] bg-white dark:bg-black py-[15px] md:py-[17px] pl-[20px] md:pl-[30px] pr-[40px] md:pr-[70px] text-slate-900 font-bold text-[15px] md:text-[16px] lg:text-[17px] xl:text-[18px] cursor-pointer before:top-1/2 before:absolute before:text-[22px] md:before:text-[28px] before:right-[15px] md:before:right-[30px] before:text-slate-900 dark:text-slate-300 before:-translate-y-2/4" (click)="toggleSection(idx)" [class.open]="isSectionOpen(idx)">
                  {{ comment.author }}
                </div>
                <div class="accordion-content bg-white dark:bg-black rounded-b-[4px] px-[20px] md:px-[30px] pb-[20px] md:pb-[25px] lg:pb-[30px]" [class.open]="isSectionOpen(idx)">
                  <div class="pt-[18px] border-t border-stone-100 dark:border-yellow-600">
                    <p class="text-[13px] md:text-[14px] lg:text-[15px] text-stone-500 dark:yellow-400 leading-[1.8]">
                      {{ comment.content }}
                    </p>
                  </div>
                </div>
              </div>
            }
          }
          <button (click)="openComments()" class="self-center inline-block text-[13px] md:text-[14px] lg:text-[15px] xl:text-[16px] text-slate-900 dark:text-slate-900 font-semibold rounded-[7px] bg-amber-200 dark:bg-indigo-300 px-[25px] md:px-[35px] lg:px-[40px] py-[13px] md:py-[14px] lg:py-[16px] transition-all hover:bg-cyan-300 dark:bg-yellow-600">
            Open Comments
          </button>
        </div>

    </div>
</div>
